

{% extends 'base.html' %}
{% load static %}

{% block content %}


<div class="col-12  my-5">
    <h1 class="text-dark Roboto my-5">
        Token
    </h1>


    {% if messages %}
    {% for message in messages %}
    <p {% if message.tags %} class="Roboto alert alert-{{message.tags}} mb-5 {% endif %} ">{{message}} </p>
    {% endfor %}
  {% endif %}

<div class="container">
    <div class="row mt-5">
      <div class="shadow col-lg-6 m-auto p-5 text-dark-emphasis bg-dark-subtle  rounded-4">
        {% if gt %}
        <p class="h4 py-3 Roboto" >Token Request.</p>

        <form action="" method="POST"> {% csrf_token %}
            {% for fm in gt %}
            <div class="form-group">
              {{fm.label_tag}} {{fm}} <small class="text-warning-subtle" >{{fm.errors|striptags}}</small>  <br><br>
            </div>
            {% endfor %}
            <input type="submit" value="Generate Token" class="btn btn-primary rounded-5 w-100">
  
            {% if form.non_field_errors %}
              {% for error in form.non_field_errors %}
              <p class="alert alert-danger my-3 Roboto" >{{error}}</p>
              {% endfor %}
            {% endif %}  
  
          </form><br>


          
          {% else %}
          <p class="h4 py-3 Roboto" >Generated Token.</p>

          <div class="alert alert-success" role="alert">
            {{token}}
          </div>

    <h2>Examples</h2>
    <p>Here are example API requests:</p>
    <pre>
        <code>
            curl -H "Authorization: Token YOUR_TOKEN_HERE" "http://127.0.0.1:8000/api/?start_datetime=2023-08-14T13:00:00Z&end_datetime=2023-08-15T20:20:00Z"
        </code>
    </pre>


          {% endif %}

      </div>
    </div>
  </div>
</div>

{% endblock content %}